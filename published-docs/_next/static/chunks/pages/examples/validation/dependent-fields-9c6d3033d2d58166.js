(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{7189:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/validation/dependent-fields",function(){return n(3179)}])},3179:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return j},default:function(){return w}});var t=n(5893),i=n(9008),r=n.n(i),s=n(2669),l=n(8496),d=n(7294),o=n(7245),u=n(2529),h=n(478),c=n(5005),m=n(3149);let f={shouldValidateFirst:!1,firstInput:"",age:18,legalGuardianName:""},x={required:{fields:["age"]},validators:{firstInput:(e,a)=>{if(a.shouldValidateFirst&&e.length<6)throw new o.p8("Please put in 6 or more characters")},legalGuardianName:(e,a)=>{if(a.age&&!(a.age>=18)&&e.length<6)throw new o.p8("Please put in 6 or more characters")}}};function p(){let[e,a]=d.useState(f),{formProps:n,names:i,errorData:r}=(0,o.fu)({name:"example-dependent-fields-form",defaultValues:f,onSubmit:a,onChange:a,validationSchema:x,liveFields:["age","shouldValidateFirst"]}),{errors:l,count:p}=r;return(0,t.jsxs)("form",{...n,children:[(0,t.jsx)(m.i3,{children:"Conditional validation"}),(0,t.jsx)(m.z8,{label:"Validate the next input?",name:i.shouldValidateFirst}),(0,t.jsx)(m.cC,{label:"Put in at least 6 characters",disabled:!(null==e?void 0:e.shouldValidateFirst),name:i.firstInput,error:l.firstInput}),(0,t.jsx)(s.Z,{dashed:!0}),(0,t.jsx)(m.i3,{children:"Conditional fields"}),(0,t.jsx)(u.Z.Text,{children:"If age below 18 is provided, legal guardian info is required and shown."}),(0,t.jsx)(m.cC,{label:"Age",type:"number",name:i.age,error:l.age}),e.age&&e.age<18?(0,t.jsx)(m.cC,{label:"Legal guardian name (6+ characters)",name:i.legalGuardianName,error:l.legalGuardianName}):null,(0,t.jsxs)(h.Z,{direction:"horizontal",className:"justify-content-end",children:[(0,t.jsx)(c.Z,{type:"reset",variant:"outline-danger",className:"me-1",size:"sm",children:"Clear"}),(0,t.jsx)(c.Z,{type:"submit",size:"sm",children:"Submit"})]})]})}var g=n(9404),j=!0;function w(e){let{sourceCode:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{children:(0,t.jsx)("title",{children:"Dependent fields example - React Dumb Form Docs"})}),(0,t.jsxs)("main",{children:[(0,t.jsx)("h1",{children:"Dependent fields"}),(0,t.jsx)("p",{className:"text-muted",children:"Use live fields for the field whose value you depend on and in the validation function, you can easily access the whole form state through the 2nd argument."}),(0,t.jsx)("p",{children:"There is a caveat with live fields and that is - when they are changed, the whole form has to be revalidated. React Dumb Form does not know how you handle dependent fields in your validator methods, so instead of Proxying the form data every time, it just re-validated the entire form."}),(0,t.jsx)(l.U,{}),(0,t.jsx)(s.Z,{}),(0,t.jsx)(g.U,{sourceCode:a,name:"example-dependent-fields-form",children:(0,t.jsx)(p,{})})]})]})}}},function(e){e.O(0,[100,214,479,774,888,179],function(){return e(e.s=7189)}),_N_E=e.O()}]);