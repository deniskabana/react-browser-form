<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="React dumb form documentation, APIs and examples" class="jsx-3008537926"/><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-3008537926"/><link rel="icon" href="/favicon.ico" class="jsx-3008537926"/><title>User registration example - React Dumb Form Docs</title><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/media/b89f66ecdb077e7f.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/media/114f4891ad22b47f.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/6698c5783b943f59.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6698c5783b943f59.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-66ca454f7bdf962f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f8560d72d71a4ed5.js" defer=""></script><script src="/_next/static/chunks/100-5fd5ff9198d43996.js" defer=""></script><script src="/_next/static/chunks/214-754251f678fbd0b7.js" defer=""></script><script src="/_next/static/chunks/479-4ed09ad600f24b51.js" defer=""></script><script src="/_next/static/chunks/pages/examples/real-world-usage/user-registration-7c77fc3b5b048d1c.js" defer=""></script><script src="/_next/static/UfOzbXYeNhyD4EtxiKRuv/_buildManifest.js" defer=""></script><script src="/_next/static/UfOzbXYeNhyD4EtxiKRuv/_ssgManifest.js" defer=""></script><style id="__jsx-3008537926">h1,h2,h3,h4,h5,h6,p,#mainNav .navbar-brand,.tooltip-inner,body{letter-spacing:.2px;font-family:'__Nunito_23bd3b', '__Nunito_Fallback_23bd3b';--bs-font-monospace:'__Ubuntu_Mono_b8ef7f', '__Ubuntu_Mono_Fallback_b8ef7f'}pre,code[class*="language-"],pre[class*="language-"]{font-family:'__Ubuntu_Mono_b8ef7f', '__Ubuntu_Mono_Fallback_b8ef7f'!important}</style></head><body><div id="__next"><nav id="mainNav" class="navbar navbar-expand-lg navbar-dark"><div class="container"><a href="/" class="fw-bold navbar-brand">üìù React Dumb Form</a><button aria-controls="basic-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="basic-navbar-nav"><div class="ms-auto navbar-nav"><a role="button" tabindex="0" href="https://github.com/deniskabana/react-dumb-form" class="rounded-pill btn btn-light"><div class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github me-2" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg><span class="small">GitHub</span></div></a></div></div></div></nav><div class="my-4 py-2 container"><div class="row"><div class="d-flex align-items-center col"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><span><a href="/">Home</a></span></li><li class="breadcrumb-item"><span><a href="/examples">Examples</a></span></li><li class="breadcrumb-item"><span><a href="/examples/real-world-usage">Real world usage</a></span></li><li class="breadcrumb-item active" aria-current="page"><strong>User registration</strong></li></ol></nav></div></div></div><div style="padding-bottom:4rem" class="container"><div class="row"><div class="col-md-3"><div class="card"><div class="shadow-sm list-group list-group-flush"><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/introduction"><span></span>Introduction</a></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/frequently-asked-questions"><span></span>FAQ</a></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/getting-started"><span></span>Getting started</a></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/documentation"><span></span>Documentation</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-secondary fw-bold" href="/examples"><span></span>Examples</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="background-color:#380fa71a" class="border-bottom list-group list-group-flush"><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/basic"><span></span>Basic</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/advanced"><span></span>Advanced</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/validation"><span></span>Validation</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-secondary fw-bold" href="/examples/real-world-usage"><span></span>Real-world usage</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="background-color:#380fa71a" class="border-bottom list-group list-group-flush"><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-secondary fw-bold" href="/examples/real-world-usage/user-registration"><span></span>User registration</a></div><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/real-world-usage/ecommerce-checkout"><span></span>Ecommerce checkout</a></div><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/real-world-usage/invoice-array-fields"><span></span>Invoice array fields</a></div></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/performance-showcase"><span></span>Performance showcase</a></div></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/contribute"><span></span>Contribute</a></div></div></div></div><div class="col-md-9"><main><h1>User registration example</h1><p class="text-muted">A real world example of how you could handle user registration with avatar upload and a password criteria helper.</p><div role="alert" class="fade shadow-sm mb-3 p-2 alert alert-info show" style="font-size:0.75rem"><div class="hstack minBreakpoint-xs"><div><span></span></div><div><p class="mb-0">This example uses <code>react-bootstrap</code> for styling purposes and some custom UI components for visual aspects.</p></div></div></div><div style="margin:2rem 0;opacity:0.25;border-top:1px solid var(--bs-gray-800)"></div><div class="mt-4 form-code-and-tabs row"><div class="col-md-7 col-sm-12"><ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><button type="button" id="example-minimal-form-tabs-tab-form" role="tab" data-rr-ui-event-key="form" aria-controls="example-minimal-form-tabs-tabpane-form" aria-selected="true" class="nav-link active">Form</button></li><li class="nav-item" role="presentation"><button type="button" id="example-minimal-form-tabs-tab-code" role="tab" data-rr-ui-event-key="code" aria-controls="example-minimal-form-tabs-tabpane-code" aria-selected="false" tabindex="-1" class="nav-link">Code</button></li></ul><div class="tab-content"><div role="tabpanel" id="example-minimal-form-tabs-tabpane-form" aria-labelledby="example-minimal-form-tabs-tab-form" class="p-4 bg-white border border-top-0 shadow-sm tab-pane active"><form name="example-user-registration-form"><h6 class="mb-3">Profile picture</h6><div><div class="ms-auto me-auto my-4 d-flex text-center justify-content-center align-items-center" style="border:3px dashed #aaa;border-radius:50%;width:200px;height:200px"><div><span></span><div class="d-block text-muted mt-2" style="font-size:0.75em">Drag and drop a file.</div></div></div></div><div style="margin:1rem 0;opacity:0.25;border-top:1px dashed var(--bs-gray-800)"></div><h6 class="mb-3">User details</h6><div class="row"><div class="col"><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">First name<span class="fw-bold text-danger">*</span></label><input name="firstName" type="text" class="form-control"/></div></div><div class="col"><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">Last name<span class="fw-bold text-danger">*</span></label><input name="lastName" type="text" class="form-control"/></div></div></div><div class="row"><div class="col"><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">Username<span class="fw-bold text-danger">*</span></label><input name="username" type="text" class="form-control"/></div></div><div class="col"><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">E-mail<span class="fw-bold text-danger">*</span></label><input name="email" type="text" class="form-control"/></div></div></div><div style="margin:1rem 0;opacity:0.25;border-top:1px dashed var(--bs-gray-800)"></div><h6 class="mb-3">Create a password</h6><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">Password<span class="fw-bold text-danger">*</span></label><div class="input-group"><input name="password" type="password" class="form-control"/><button type="button" class="btn btn-dark"><span></span></button></div></div><small style="font-size:0.75em" class="form-text">Password feedback:<div class="fw-bold ps-3"><div class="text-danger"><span></span>Needs to be at least 6 characters long</div><div class="text-danger"><span></span>Needs at least 1 lowercase letter</div><div class="text-danger"><span></span>Needs at least 1 uppercase letter</div><div class="text-danger"><span></span>Needs at least 1 number</div><div class="text-danger"><span></span>Needs at least 1 special symbol</div></div></small><div style="margin:1rem 0;opacity:0.25;border-top:1px dashed var(--bs-gray-800)"></div><div class="justify-content-end hstack minBreakpoint-xs"><button type="submit" class="btn btn-primary">Register</button></div></form></div><div role="tabpanel" id="example-minimal-form-tabs-tabpane-code" aria-labelledby="example-minimal-form-tabs-tab-code" class="bg-white border border-top-0 shadow-sm position-relative tab-pane"><div style="position:absolute;bottom:0.6rem;right:0.6rem;z-index:1"><button type="button" class="shadow-sm btn btn-dark btn-sm"><span></span>Copy code</button></div><div style="max-height:38rem;overflow:scroll"><pre class="m-0 line-numbers language-tsx" tabindex="-1"><code class="language-tsx">import React from &quot;react&quot;;
import { useDumbForm, ValidationError, ValidationSchema } from &quot;react-dumb-form&quot;;

// UI for documentation only
import { Button, Form, Stack } from &quot;react-bootstrap&quot;;
import { FormTextInput, FormGroup, FormGroupTitle } from &quot;ui/forms&quot;;
import Separator from &quot;ui/Separator&quot;;
import { FormPassword } from &quot;ui/forms/FormPassword&quot;;
import { Icon } from &quot;@iconify/react&quot;;

// FORM SETUP AND VALIDATION
// --------------------------------------------------------------------------------

const defaultValues = {
  firstName: &quot;&quot;,
  lastName: &quot;&quot;,
  username: &quot;&quot;,
  email: &quot;&quot;,
  password: &quot;&quot;,
  profilePhoto: &quot;&quot;,
};
type Form = typeof defaultValues;

const PASSWORD_FEEDBACK = {
  minLength: false,
  lowercaseChar: false,
  uppercaseChar: false,
  number: false,
  specialSymbol: false,
};

// COMPONENT
// --------------------------------------------------------------------------------

export function ExampleUserRegistration() {
  const [data, setData] = React.useState(defaultValues);
  const [isFileDraggedOver, setIsFileDraggedOver] = React.useState(false);
  const [passwordFeedback, setPasswordFeedback] = React.useState({
    ...PASSWORD_FEEDBACK,
  });

  const validationSchema: ValidationSchema&lt;Form&gt; = {
    required: { fields: [&quot;firstName&quot;, &quot;lastName&quot;, &quot;username&quot;, &quot;profilePhoto&quot;] },

    validators: {
      email: email =&gt; {
        if (!email.match(/^\S{2,}@\S{2,}\.\S{2,}$/)) throw new ValidationError(&quot;Provide a valid e-mail address.&quot;);
      },

      password: password =&gt; {
        let shouldThrow = false;
        const newPasswordFeedback: typeof PASSWORD_FEEDBACK = {
          minLength: true,
          lowercaseChar: true,
          uppercaseChar: true,
          number: true,
          specialSymbol: true,
        };

        if (password.length &lt; 6) {
          shouldThrow = true;
          newPasswordFeedback.minLength = false;
        }
        if (!password.match(/[a-z]/)) {
          shouldThrow = true;
          newPasswordFeedback.lowercaseChar = false;
        }
        if (!password.match(/[A-Z]/)) {
          shouldThrow = true;
          newPasswordFeedback.uppercaseChar = false;
        }
        if (!password.match(/[0-9]/)) {
          shouldThrow = true;
          newPasswordFeedback.number = false;
        }
        if (!password.match(/[!@#$%^&amp;*()\[\]-_=+]/)) {
          shouldThrow = true;
          newPasswordFeedback.specialSymbol = false;
        }

        setPasswordFeedback(newPasswordFeedback);
        // Message isn&#x27;t important since it isn&#x27;t displayed, but it might save time on future refactor
        if (shouldThrow)
          throw new ValidationError(
            &quot;Password needs to be 6+ characters long and include 1 lowercase, 1 uppercase letter, 1 number and 1 symbol.&quot;,
          );
      },
    },
  };

  const { formProps, names, errorData, setValues } = useDumbForm&lt;Form&gt;({
    name: &quot;example-user-registration-form&quot;,
    onSubmit: setData,
    onChange: setData,
    defaultValues,
    validationSchema,
    liveFields: [&quot;password&quot;],
  });

  const { errors } = errorData;

  const handleDrop = (event: React.DragEvent&lt;HTMLDivElement&gt;) =&gt; {
    event.preventDefault();
    setIsFileDraggedOver(false);
    const file = event.dataTransfer.files[0];

    if (!file) return;

    setValues({ profilePhoto: file.name });
    const previewNode = document.getElementById(&quot;profile-photo-preview&quot;) as HTMLImageElement | undefined;
    if (!previewNode) return;

    const reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onloadend = () =&gt; {
      const result = reader.result;
      if (!result) return;
      previewNode.src = result as any;
      previewNode.alt = file.name;
    };
  };

  const handleDragOver = (event: React.SyntheticEvent) =&gt; {
    event.preventDefault();
    setIsFileDraggedOver(true);
  };
  const handleDragLeave = () =&gt; setIsFileDraggedOver(false);

  return (
    &lt;form {...formProps}&gt;
      &lt;FormGroupTitle&gt;Profile picture&lt;/FormGroupTitle&gt;
      &lt;div&gt;
        &lt;div
          className=&quot;ms-auto me-auto my-4 d-flex text-center justify-content-center align-items-center&quot;
          onDrop={handleDrop}
          onDragOver={handleDragOver}
          onDragLeave={handleDragLeave}
          style={{
            border: `3px dashed ${isFileDraggedOver ? &quot;#68f&quot; : &quot;#aaa&quot;}`,
            borderRadius: &quot;50%&quot;,
            width: &quot;200px&quot;,
            height: &quot;200px&quot;,
          }}
        &gt;
          &lt;div&gt;
            {data.profilePhoto &amp;&amp; data.profilePhoto.length ? (
              &lt;img
                id=&quot;profile-photo-preview&quot;
                className=&quot;ms-auto me-auto&quot;
                style={{ maxWidth: &quot;80px&quot;, maxHeight: &quot;80px&quot;, background: &quot;#aaa&quot; }}
              /&gt;
            ) : (
              &lt;Icon icon=&quot;material-symbols:frame-person&quot; height=&quot;80px&quot; style={{ opacity: 0.3 }} /&gt;
            )}
            &lt;div className=&quot;d-block text-muted mt-2&quot; style={{ fontSize: &quot;0.75em&quot; }}&gt;
              Drag and drop a file.
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;Separator dashed small /&gt;

      &lt;FormGroupTitle&gt;User details&lt;/FormGroupTitle&gt;
      &lt;FormGroup&gt;
        &lt;FormTextInput label=&quot;First name&quot; requiredMark name={names.firstName} error={errors.firstName} /&gt;
        &lt;FormTextInput label=&quot;Last name&quot; requiredMark name={names.lastName} error={errors.lastName} /&gt;
      &lt;/FormGroup&gt;
      &lt;FormGroup&gt;
        &lt;FormTextInput label=&quot;Username&quot; requiredMark name={names.username} error={errors.username} /&gt;
        &lt;FormTextInput label=&quot;E-mail&quot; requiredMark name={names.email} error={errors.email} /&gt;
      &lt;/FormGroup&gt;

      &lt;Separator dashed small /&gt;

      &lt;FormGroupTitle&gt;Create a password&lt;/FormGroupTitle&gt;
      &lt;FormPassword label=&quot;Password&quot; requiredMark name={names.password} /&gt;
      &lt;Form.Text style={{ fontSize: &quot;0.75em&quot; }}&gt;
        Password feedback:
        &lt;div className=&quot;fw-bold ps-3&quot;&gt;
          &lt;div className={passwordFeedback.minLength ? &quot;text-success&quot; : &quot;text-danger&quot;}&gt;
            &lt;Icon
              icon={passwordFeedback.minLength ? &quot;material-symbols:check&quot; : &quot;charm:cross&quot;}
              height=&quot;22&quot;
              className=&quot;me-1 align-middle&quot;
            /&gt;
            Needs to be at least 6 characters long
          &lt;/div&gt;
          &lt;div className={passwordFeedback.lowercaseChar ? &quot;text-success&quot; : &quot;text-danger&quot;}&gt;
            &lt;Icon
              icon={passwordFeedback.lowercaseChar ? &quot;material-symbols:check&quot; : &quot;charm:cross&quot;}
              height=&quot;22&quot;
              className=&quot;me-1 align-middle&quot;
            /&gt;
            Needs at least 1 lowercase letter
          &lt;/div&gt;
          &lt;div className={passwordFeedback.uppercaseChar ? &quot;text-success&quot; : &quot;text-danger&quot;}&gt;
            &lt;Icon
              icon={passwordFeedback.uppercaseChar ? &quot;material-symbols:check&quot; : &quot;charm:cross&quot;}
              height=&quot;22&quot;
              className=&quot;me-1 align-middle&quot;
            /&gt;
            Needs at least 1 uppercase letter
          &lt;/div&gt;
          &lt;div className={passwordFeedback.number ? &quot;text-success&quot; : &quot;text-danger&quot;}&gt;
            &lt;Icon
              icon={passwordFeedback.number ? &quot;material-symbols:check&quot; : &quot;charm:cross&quot;}
              height=&quot;22&quot;
              className=&quot;me-1 align-middle&quot;
            /&gt;
            Needs at least 1 number
          &lt;/div&gt;
          &lt;div className={passwordFeedback.specialSymbol ? &quot;text-success&quot; : &quot;text-danger&quot;}&gt;
            &lt;Icon
              icon={passwordFeedback.specialSymbol ? &quot;material-symbols:check&quot; : &quot;charm:cross&quot;}
              height=&quot;22&quot;
              className=&quot;me-1 align-middle&quot;
            /&gt;
            Needs at least 1 special symbol
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/Form.Text&gt;

      &lt;Separator dashed small /&gt;

      &lt;Stack direction=&quot;horizontal&quot; className=&quot;justify-content-end&quot;&gt;
        &lt;Button type=&quot;submit&quot; disabled={errorData.count &gt; 0}&gt;
          Register
        &lt;/Button&gt;
      &lt;/Stack&gt;
    &lt;/form&gt;
  );
}
</code></pre></div></div></div></div><div class="col-md-5 col-sm-12"><div class="shadow-sm card bg-dark text-white"><div class="p-0 card-body"><div class="table-responsive"><table style="font-size:0.75rem" class="mb-0 table table-dark"><tbody><tr><th colSpan="2" class="text-center" style="background-color:rgba(255,255,255,0.1)">Form meta</th></tr><tr><td>Submitted?</td><td><div class="text-warning d-flex align-items-center fw-bold"><span></span> No</div></td></tr><tr><td>Has errors?</td><td><div class="text-success d-flex align-items-center fw-bold"><span></span> No</div></td></tr><tr><td>Is dirty?</td><td><div class="text-warning d-flex align-items-center fw-bold"><span></span> No</div></td></tr><tr><td>Change reason</td><td class="text-white-50"></td></tr><tr><th colSpan="2" class="text-center" style="background-color:rgba(255,255,255,0.1)">Form state</th></tr></tbody></table></div></div></div></div></div></main></div></div></div><footer class="text-center py-5 shadow-sm mt-auto mb-0"><div class="py-5 my-4 container"><p class="fs-3 text-white">Enjoying React Dumb Form?<!-- --> <a href="https://github.com/deniskabana/react-dumb-form" class="fw-bold text-secondary">Star us on GitHub.</a></p><p class="text-white-50">By leaving us a star on GitHub or contributing you can support React Dumb Form&#x27;s growth and help stabilize it&#x27;s future.</p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"sourceCode":"import React from \"react\";\nimport { useDumbForm, ValidationError, ValidationSchema } from \"react-dumb-form\";\n\n// UI for documentation only\nimport { Button, Form, Stack } from \"react-bootstrap\";\nimport { FormTextInput, FormGroup, FormGroupTitle } from \"ui/forms\";\nimport Separator from \"ui/Separator\";\nimport { FormPassword } from \"ui/forms/FormPassword\";\nimport { Icon } from \"@iconify/react\";\n\n// FORM SETUP AND VALIDATION\n// --------------------------------------------------------------------------------\n\nconst defaultValues = {\n  firstName: \"\",\n  lastName: \"\",\n  username: \"\",\n  email: \"\",\n  password: \"\",\n  profilePhoto: \"\",\n};\ntype Form = typeof defaultValues;\n\nconst PASSWORD_FEEDBACK = {\n  minLength: false,\n  lowercaseChar: false,\n  uppercaseChar: false,\n  number: false,\n  specialSymbol: false,\n};\n\n// COMPONENT\n// --------------------------------------------------------------------------------\n\nexport function ExampleUserRegistration() {\n  const [data, setData] = React.useState(defaultValues);\n  const [isFileDraggedOver, setIsFileDraggedOver] = React.useState(false);\n  const [passwordFeedback, setPasswordFeedback] = React.useState({\n    ...PASSWORD_FEEDBACK,\n  });\n\n  const validationSchema: ValidationSchema\u003cForm\u003e = {\n    required: { fields: [\"firstName\", \"lastName\", \"username\", \"profilePhoto\"] },\n\n    validators: {\n      email: email =\u003e {\n        if (!email.match(/^\\S{2,}@\\S{2,}\\.\\S{2,}$/)) throw new ValidationError(\"Provide a valid e-mail address.\");\n      },\n\n      password: password =\u003e {\n        let shouldThrow = false;\n        const newPasswordFeedback: typeof PASSWORD_FEEDBACK = {\n          minLength: true,\n          lowercaseChar: true,\n          uppercaseChar: true,\n          number: true,\n          specialSymbol: true,\n        };\n\n        if (password.length \u003c 6) {\n          shouldThrow = true;\n          newPasswordFeedback.minLength = false;\n        }\n        if (!password.match(/[a-z]/)) {\n          shouldThrow = true;\n          newPasswordFeedback.lowercaseChar = false;\n        }\n        if (!password.match(/[A-Z]/)) {\n          shouldThrow = true;\n          newPasswordFeedback.uppercaseChar = false;\n        }\n        if (!password.match(/[0-9]/)) {\n          shouldThrow = true;\n          newPasswordFeedback.number = false;\n        }\n        if (!password.match(/[!@#$%^\u0026*()\\[\\]-_=+]/)) {\n          shouldThrow = true;\n          newPasswordFeedback.specialSymbol = false;\n        }\n\n        setPasswordFeedback(newPasswordFeedback);\n        // Message isn't important since it isn't displayed, but it might save time on future refactor\n        if (shouldThrow)\n          throw new ValidationError(\n            \"Password needs to be 6+ characters long and include 1 lowercase, 1 uppercase letter, 1 number and 1 symbol.\",\n          );\n      },\n    },\n  };\n\n  const { formProps, names, errorData, setValues } = useDumbForm\u003cForm\u003e({\n    name: \"example-user-registration-form\",\n    onSubmit: setData,\n    onChange: setData,\n    defaultValues,\n    validationSchema,\n    liveFields: [\"password\"],\n  });\n\n  const { errors } = errorData;\n\n  const handleDrop = (event: React.DragEvent\u003cHTMLDivElement\u003e) =\u003e {\n    event.preventDefault();\n    setIsFileDraggedOver(false);\n    const file = event.dataTransfer.files[0];\n\n    if (!file) return;\n\n    setValues({ profilePhoto: file.name });\n    const previewNode = document.getElementById(\"profile-photo-preview\") as HTMLImageElement | undefined;\n    if (!previewNode) return;\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () =\u003e {\n      const result = reader.result;\n      if (!result) return;\n      previewNode.src = result as any;\n      previewNode.alt = file.name;\n    };\n  };\n\n  const handleDragOver = (event: React.SyntheticEvent) =\u003e {\n    event.preventDefault();\n    setIsFileDraggedOver(true);\n  };\n  const handleDragLeave = () =\u003e setIsFileDraggedOver(false);\n\n  return (\n    \u003cform {...formProps}\u003e\n      \u003cFormGroupTitle\u003eProfile picture\u003c/FormGroupTitle\u003e\n      \u003cdiv\u003e\n        \u003cdiv\n          className=\"ms-auto me-auto my-4 d-flex text-center justify-content-center align-items-center\"\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          style={{\n            border: `3px dashed ${isFileDraggedOver ? \"#68f\" : \"#aaa\"}`,\n            borderRadius: \"50%\",\n            width: \"200px\",\n            height: \"200px\",\n          }}\n        \u003e\n          \u003cdiv\u003e\n            {data.profilePhoto \u0026\u0026 data.profilePhoto.length ? (\n              \u003cimg\n                id=\"profile-photo-preview\"\n                className=\"ms-auto me-auto\"\n                style={{ maxWidth: \"80px\", maxHeight: \"80px\", background: \"#aaa\" }}\n              /\u003e\n            ) : (\n              \u003cIcon icon=\"material-symbols:frame-person\" height=\"80px\" style={{ opacity: 0.3 }} /\u003e\n            )}\n            \u003cdiv className=\"d-block text-muted mt-2\" style={{ fontSize: \"0.75em\" }}\u003e\n              Drag and drop a file.\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cSeparator dashed small /\u003e\n\n      \u003cFormGroupTitle\u003eUser details\u003c/FormGroupTitle\u003e\n      \u003cFormGroup\u003e\n        \u003cFormTextInput label=\"First name\" requiredMark name={names.firstName} error={errors.firstName} /\u003e\n        \u003cFormTextInput label=\"Last name\" requiredMark name={names.lastName} error={errors.lastName} /\u003e\n      \u003c/FormGroup\u003e\n      \u003cFormGroup\u003e\n        \u003cFormTextInput label=\"Username\" requiredMark name={names.username} error={errors.username} /\u003e\n        \u003cFormTextInput label=\"E-mail\" requiredMark name={names.email} error={errors.email} /\u003e\n      \u003c/FormGroup\u003e\n\n      \u003cSeparator dashed small /\u003e\n\n      \u003cFormGroupTitle\u003eCreate a password\u003c/FormGroupTitle\u003e\n      \u003cFormPassword label=\"Password\" requiredMark name={names.password} /\u003e\n      \u003cForm.Text style={{ fontSize: \"0.75em\" }}\u003e\n        Password feedback:\n        \u003cdiv className=\"fw-bold ps-3\"\u003e\n          \u003cdiv className={passwordFeedback.minLength ? \"text-success\" : \"text-danger\"}\u003e\n            \u003cIcon\n              icon={passwordFeedback.minLength ? \"material-symbols:check\" : \"charm:cross\"}\n              height=\"22\"\n              className=\"me-1 align-middle\"\n            /\u003e\n            Needs to be at least 6 characters long\n          \u003c/div\u003e\n          \u003cdiv className={passwordFeedback.lowercaseChar ? \"text-success\" : \"text-danger\"}\u003e\n            \u003cIcon\n              icon={passwordFeedback.lowercaseChar ? \"material-symbols:check\" : \"charm:cross\"}\n              height=\"22\"\n              className=\"me-1 align-middle\"\n            /\u003e\n            Needs at least 1 lowercase letter\n          \u003c/div\u003e\n          \u003cdiv className={passwordFeedback.uppercaseChar ? \"text-success\" : \"text-danger\"}\u003e\n            \u003cIcon\n              icon={passwordFeedback.uppercaseChar ? \"material-symbols:check\" : \"charm:cross\"}\n              height=\"22\"\n              className=\"me-1 align-middle\"\n            /\u003e\n            Needs at least 1 uppercase letter\n          \u003c/div\u003e\n          \u003cdiv className={passwordFeedback.number ? \"text-success\" : \"text-danger\"}\u003e\n            \u003cIcon\n              icon={passwordFeedback.number ? \"material-symbols:check\" : \"charm:cross\"}\n              height=\"22\"\n              className=\"me-1 align-middle\"\n            /\u003e\n            Needs at least 1 number\n          \u003c/div\u003e\n          \u003cdiv className={passwordFeedback.specialSymbol ? \"text-success\" : \"text-danger\"}\u003e\n            \u003cIcon\n              icon={passwordFeedback.specialSymbol ? \"material-symbols:check\" : \"charm:cross\"}\n              height=\"22\"\n              className=\"me-1 align-middle\"\n            /\u003e\n            Needs at least 1 special symbol\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/Form.Text\u003e\n\n      \u003cSeparator dashed small /\u003e\n\n      \u003cStack direction=\"horizontal\" className=\"justify-content-end\"\u003e\n        \u003cButton type=\"submit\" disabled={errorData.count \u003e 0}\u003e\n          Register\n        \u003c/Button\u003e\n      \u003c/Stack\u003e\n    \u003c/form\u003e\n  );\n}\n"},"__N_SSG":true},"page":"/examples/real-world-usage/user-registration","query":{},"buildId":"UfOzbXYeNhyD4EtxiKRuv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>