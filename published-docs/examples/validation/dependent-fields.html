<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="React dumb form documentation, APIs and examples" class="jsx-3008537926"/><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-3008537926"/><link rel="icon" href="/favicon.ico" class="jsx-3008537926"/><title>Dependent fields example - React Dumb Form Docs</title><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/media/b89f66ecdb077e7f.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/media/114f4891ad22b47f.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/6698c5783b943f59.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6698c5783b943f59.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-66ca454f7bdf962f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f8560d72d71a4ed5.js" defer=""></script><script src="/_next/static/chunks/100-5fd5ff9198d43996.js" defer=""></script><script src="/_next/static/chunks/214-754251f678fbd0b7.js" defer=""></script><script src="/_next/static/chunks/479-4ed09ad600f24b51.js" defer=""></script><script src="/_next/static/chunks/pages/examples/validation/dependent-fields-9c6d3033d2d58166.js" defer=""></script><script src="/_next/static/UfOzbXYeNhyD4EtxiKRuv/_buildManifest.js" defer=""></script><script src="/_next/static/UfOzbXYeNhyD4EtxiKRuv/_ssgManifest.js" defer=""></script><style id="__jsx-3008537926">h1,h2,h3,h4,h5,h6,p,#mainNav .navbar-brand,.tooltip-inner,body{letter-spacing:.2px;font-family:'__Nunito_23bd3b', '__Nunito_Fallback_23bd3b';--bs-font-monospace:'__Ubuntu_Mono_b8ef7f', '__Ubuntu_Mono_Fallback_b8ef7f'}pre,code[class*="language-"],pre[class*="language-"]{font-family:'__Ubuntu_Mono_b8ef7f', '__Ubuntu_Mono_Fallback_b8ef7f'!important}</style></head><body><div id="__next"><nav id="mainNav" class="navbar navbar-expand-lg navbar-dark"><div class="container"><a href="/" class="fw-bold navbar-brand">üìù React Dumb Form</a><button aria-controls="basic-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="basic-navbar-nav"><div class="ms-auto navbar-nav"><a role="button" tabindex="0" href="https://github.com/deniskabana/react-dumb-form" class="rounded-pill btn btn-light"><div class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github me-2" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg><span class="small">GitHub</span></div></a></div></div></div></nav><div class="my-4 py-2 container"><div class="row"><div class="d-flex align-items-center col"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><span><a href="/">Home</a></span></li><li class="breadcrumb-item"><span><a href="/examples">Examples</a></span></li><li class="breadcrumb-item"><span><a href="/examples/validation">Validation</a></span></li><li class="breadcrumb-item active" aria-current="page"><strong>Dependent fields</strong></li></ol></nav></div></div></div><div style="padding-bottom:4rem" class="container"><div class="row"><div class="col-md-3"><div class="card"><div class="shadow-sm list-group list-group-flush"><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/introduction"><span></span>Introduction</a></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/frequently-asked-questions"><span></span>FAQ</a></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/getting-started"><span></span>Getting started</a></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/documentation"><span></span>Documentation</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-secondary fw-bold" href="/examples"><span></span>Examples</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="background-color:#380fa71a" class="border-bottom list-group list-group-flush"><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/basic"><span></span>Basic</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/advanced"><span></span>Advanced</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-secondary fw-bold" href="/examples/validation"><span></span>Validation</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="background-color:#380fa71a" class="border-bottom list-group list-group-flush"><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/validation/basic-validation"><span></span>Basic validation</a></div><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/validation/composed-validation"><span></span>Composed validation</a></div><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-secondary fw-bold" href="/examples/validation/dependent-fields"><span></span>Dependent fields</a></div><div style="min-height:3rem;padding-left:2.25rem;font-size:0.88em;background-color:#fee8e6" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/validation/revalidation-strategies"><span></span>Revalidation strategies</a></div></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/real-world-usage"><span></span>Real-world usage</a><button type="button" class="ms-auto border btn btn-light btn-sm"><span></span></button></div><div style="min-height:3rem;padding-left:1.5833333333333333rem;font-size:0.92em;background-color:#fff3f2" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/examples/performance-showcase"><span></span>Performance showcase</a></div></div><div style="min-height:3rem;padding-left:0.9166666666666666rem;font-size:0.96em;background-color:#ffffff" class="d-flex align-items-center list-group-item"><a style="line-height:1.2" class="text-decoration-none d-flex align-items-center text-body" href="/contribute"><span></span>Contribute</a></div></div></div></div><div class="col-md-9"><main><h1>Dependent fields</h1><p class="text-muted">Use live fields for the field whose value you depend on and in the validation function, you can easily access the whole form state through the 2nd argument.</p><p>There is a caveat with live fields and that is - when they are changed, the whole form has to be revalidated. React Dumb Form does not know how you handle dependent fields in your validator methods, so instead of Proxying the form data every time, it just re-validated the entire form.</p><div role="alert" class="fade shadow-sm mb-3 p-2 alert alert-info show" style="font-size:0.75rem"><div class="hstack minBreakpoint-xs"><div><span></span></div><div><p class="mb-0">This example uses <code>react-bootstrap</code> for styling purposes and some custom UI components for visual aspects.</p></div></div></div><div style="margin:2rem 0;opacity:0.25;border-top:1px solid var(--bs-gray-800)"></div><div class="mt-4 form-code-and-tabs row"><div class="col-md-7 col-sm-12"><ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><button type="button" id="example-minimal-form-tabs-tab-form" role="tab" data-rr-ui-event-key="form" aria-controls="example-minimal-form-tabs-tabpane-form" aria-selected="true" class="nav-link active">Form</button></li><li class="nav-item" role="presentation"><button type="button" id="example-minimal-form-tabs-tab-code" role="tab" data-rr-ui-event-key="code" aria-controls="example-minimal-form-tabs-tabpane-code" aria-selected="false" tabindex="-1" class="nav-link">Code</button></li></ul><div class="tab-content"><div role="tabpanel" id="example-minimal-form-tabs-tabpane-form" aria-labelledby="example-minimal-form-tabs-tab-form" class="p-4 bg-white border border-top-0 shadow-sm tab-pane active"><form name="example-dependent-fields-form"><h6 class="mb-3">Conditional validation</h6><div class="mb-2 flex-fill"><div class="form-check"><input name="shouldValidateFirst" type="checkbox" id="checkbox-shouldValidateFirst-Validate the next input?" class="form-check-input"/><label title="" for="checkbox-shouldValidateFirst-Validate the next input?" class="form-check-label"><span style="font-size:0.8em;user-select:none">Validate the next input?</span></label></div></div><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">Put in at least 6 characters</label><input name="firstInput" disabled="" type="text" class="form-control"/></div><div style="margin:2rem 0;opacity:0.25;border-top:1px dashed var(--bs-gray-800)"></div><h6 class="mb-3">Conditional fields</h6><small class="form-text">If age below 18 is provided, legal guardian info is required and shown.</small><div class="mb-3 flex-grow-1 flex-shrink-0"><label class="mb-1 fw-bold form-label" style="font-size:0.8em">Age</label><input name="age" type="number" class="form-control"/></div><div class="justify-content-end hstack minBreakpoint-xs"><button type="reset" class="me-1 btn btn-outline-danger btn-sm">Clear</button><button type="submit" class="btn btn-primary btn-sm">Submit</button></div></form></div><div role="tabpanel" id="example-minimal-form-tabs-tabpane-code" aria-labelledby="example-minimal-form-tabs-tab-code" class="bg-white border border-top-0 shadow-sm position-relative tab-pane"><div style="position:absolute;bottom:0.6rem;right:0.6rem;z-index:1"><button type="button" class="shadow-sm btn btn-dark btn-sm"><span></span>Copy code</button></div><div style="max-height:38rem;overflow:scroll"><pre class="m-0 line-numbers language-tsx" tabindex="-1"><code class="language-tsx">import React from &quot;react&quot;;
import { useDumbForm, ValidationError, ValidationSchema } from &quot;react-dumb-form&quot;;

// UI for documentation only
import { Button, Form, Stack } from &quot;react-bootstrap&quot;;
import { FormCheckbox, FormGroupTitle, FormTextInput } from &quot;ui/forms&quot;;
import Separator from &quot;ui/Separator&quot;;

// FORM SETUP AND VALIDATION
// --------------------------------------------------------------------------------

const defaultValues = {
  shouldValidateFirst: false,
  firstInput: &quot;&quot;,
  age: 18,
  legalGuardianName: &quot;&quot;,
};
type Form = typeof defaultValues;

const validationSchema: ValidationSchema&lt;Form&gt; = {
  required: { fields: [&quot;age&quot;] },

  validators: {
    firstInput: (firstInput, data) =&gt; {
      if (!data.shouldValidateFirst) return;
      if (firstInput.length &lt; 6) throw new ValidationError(&quot;Please put in 6 or more characters&quot;);
    },

    legalGuardianName: (legalGuardianName, data) =&gt; {
      if (!data.age || data.age &gt;= 18) return;
      if (legalGuardianName.length &lt; 6) throw new ValidationError(&quot;Please put in 6 or more characters&quot;);
    },
  },
};

// COMPONENT
// --------------------------------------------------------------------------------

export function ExampleDependentFields() {
  const [data, setData] = React.useState&lt;Form&gt;(defaultValues);

  const { formProps, names, errorData } = useDumbForm&lt;Form&gt;({
    name: &quot;example-dependent-fields-form&quot;,
    defaultValues,
    onSubmit: setData,
    onChange: setData, // Used because of reset button
    validationSchema,
    liveFields: [&quot;age&quot;, &quot;shouldValidateFirst&quot;],
  });

  const { errors, count } = errorData;

  return (
    &lt;form {...formProps}&gt;
      &lt;FormGroupTitle&gt;Conditional validation&lt;/FormGroupTitle&gt;
      &lt;FormCheckbox label=&quot;Validate the next input?&quot; name={names.shouldValidateFirst} /&gt;
      &lt;FormTextInput
        label=&quot;Put in at least 6 characters&quot;
        disabled={!data?.shouldValidateFirst}
        name={names.firstInput}
        error={errors.firstInput}
      /&gt;

      &lt;Separator dashed /&gt;

      &lt;FormGroupTitle&gt;Conditional fields&lt;/FormGroupTitle&gt;
      &lt;Form.Text&gt;If age below 18 is provided, legal guardian info is required and shown.&lt;/Form.Text&gt;
      &lt;FormTextInput label=&quot;Age&quot; type=&quot;number&quot; name={names.age} error={errors.age} /&gt;
      {data.age &amp;&amp; data.age &lt; 18 ? (
        &lt;FormTextInput
          label=&quot;Legal guardian name (6+ characters)&quot;
          name={names.legalGuardianName}
          error={errors.legalGuardianName}
        /&gt;
      ) : null}

      &lt;Stack direction=&quot;horizontal&quot; className=&quot;justify-content-end&quot;&gt;
        &lt;Button type=&quot;reset&quot; variant=&quot;outline-danger&quot; className=&quot;me-1&quot; size=&quot;sm&quot;&gt;
          Clear
        &lt;/Button&gt;
        &lt;Button type=&quot;submit&quot; size=&quot;sm&quot;&gt;
          Submit
        &lt;/Button&gt;
      &lt;/Stack&gt;
    &lt;/form&gt;
  );
}
</code></pre></div></div></div></div><div class="col-md-5 col-sm-12"><div class="shadow-sm card bg-dark text-white"><div class="p-0 card-body"><div class="table-responsive"><table style="font-size:0.75rem" class="mb-0 table table-dark"><tbody><tr><th colSpan="2" class="text-center" style="background-color:rgba(255,255,255,0.1)">Form meta</th></tr><tr><td>Submitted?</td><td><div class="text-warning d-flex align-items-center fw-bold"><span></span> No</div></td></tr><tr><td>Has errors?</td><td><div class="text-success d-flex align-items-center fw-bold"><span></span> No</div></td></tr><tr><td>Is dirty?</td><td><div class="text-warning d-flex align-items-center fw-bold"><span></span> No</div></td></tr><tr><td>Change reason</td><td class="text-white-50"></td></tr><tr><th colSpan="2" class="text-center" style="background-color:rgba(255,255,255,0.1)">Form state</th></tr></tbody></table></div></div></div></div></div></main></div></div></div><footer class="text-center py-5 shadow-sm mt-auto mb-0"><div class="py-5 my-4 container"><p class="fs-3 text-white">Enjoying React Dumb Form?<!-- --> <a href="https://github.com/deniskabana/react-dumb-form" class="fw-bold text-secondary">Star us on GitHub.</a></p><p class="text-white-50">By leaving us a star on GitHub or contributing you can support React Dumb Form&#x27;s growth and help stabilize it&#x27;s future.</p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"sourceCode":"import React from \"react\";\nimport { useDumbForm, ValidationError, ValidationSchema } from \"react-dumb-form\";\n\n// UI for documentation only\nimport { Button, Form, Stack } from \"react-bootstrap\";\nimport { FormCheckbox, FormGroupTitle, FormTextInput } from \"ui/forms\";\nimport Separator from \"ui/Separator\";\n\n// FORM SETUP AND VALIDATION\n// --------------------------------------------------------------------------------\n\nconst defaultValues = {\n  shouldValidateFirst: false,\n  firstInput: \"\",\n  age: 18,\n  legalGuardianName: \"\",\n};\ntype Form = typeof defaultValues;\n\nconst validationSchema: ValidationSchema\u003cForm\u003e = {\n  required: { fields: [\"age\"] },\n\n  validators: {\n    firstInput: (firstInput, data) =\u003e {\n      if (!data.shouldValidateFirst) return;\n      if (firstInput.length \u003c 6) throw new ValidationError(\"Please put in 6 or more characters\");\n    },\n\n    legalGuardianName: (legalGuardianName, data) =\u003e {\n      if (!data.age || data.age \u003e= 18) return;\n      if (legalGuardianName.length \u003c 6) throw new ValidationError(\"Please put in 6 or more characters\");\n    },\n  },\n};\n\n// COMPONENT\n// --------------------------------------------------------------------------------\n\nexport function ExampleDependentFields() {\n  const [data, setData] = React.useState\u003cForm\u003e(defaultValues);\n\n  const { formProps, names, errorData } = useDumbForm\u003cForm\u003e({\n    name: \"example-dependent-fields-form\",\n    defaultValues,\n    onSubmit: setData,\n    onChange: setData, // Used because of reset button\n    validationSchema,\n    liveFields: [\"age\", \"shouldValidateFirst\"],\n  });\n\n  const { errors, count } = errorData;\n\n  return (\n    \u003cform {...formProps}\u003e\n      \u003cFormGroupTitle\u003eConditional validation\u003c/FormGroupTitle\u003e\n      \u003cFormCheckbox label=\"Validate the next input?\" name={names.shouldValidateFirst} /\u003e\n      \u003cFormTextInput\n        label=\"Put in at least 6 characters\"\n        disabled={!data?.shouldValidateFirst}\n        name={names.firstInput}\n        error={errors.firstInput}\n      /\u003e\n\n      \u003cSeparator dashed /\u003e\n\n      \u003cFormGroupTitle\u003eConditional fields\u003c/FormGroupTitle\u003e\n      \u003cForm.Text\u003eIf age below 18 is provided, legal guardian info is required and shown.\u003c/Form.Text\u003e\n      \u003cFormTextInput label=\"Age\" type=\"number\" name={names.age} error={errors.age} /\u003e\n      {data.age \u0026\u0026 data.age \u003c 18 ? (\n        \u003cFormTextInput\n          label=\"Legal guardian name (6+ characters)\"\n          name={names.legalGuardianName}\n          error={errors.legalGuardianName}\n        /\u003e\n      ) : null}\n\n      \u003cStack direction=\"horizontal\" className=\"justify-content-end\"\u003e\n        \u003cButton type=\"reset\" variant=\"outline-danger\" className=\"me-1\" size=\"sm\"\u003e\n          Clear\n        \u003c/Button\u003e\n        \u003cButton type=\"submit\" size=\"sm\"\u003e\n          Submit\n        \u003c/Button\u003e\n      \u003c/Stack\u003e\n    \u003c/form\u003e\n  );\n}\n"},"__N_SSG":true},"page":"/examples/validation/dependent-fields","query":{},"buildId":"UfOzbXYeNhyD4EtxiKRuv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>